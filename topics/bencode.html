<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="BitTorrent metafile v1" href="bittorrent-metafile-v1.html" /><link rel="prev" title="Verify" href="../commands/verify.html" />

    <meta name="generator" content="sphinx-3.4.3, furo 2020.12.30.beta24"/>
        <title>Bencode format - torrenttools - 0.2.2</title>
      <link rel="stylesheet" href="../_static/styles/furo.css?digest=33d2fc4f3f180ec1ffc6524e273e21d7d58cbe49">
    <link rel="stylesheet" href="../_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" href="../_static/styles/furo-extensions.css?digest=26485485040e7aaf717c13fd0188a5ad2c2deb60">
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script defer="defer" src="../_static/jquery.js"></script>
    <script defer="defer" src="../_static/underscore.js"></script>
    <script defer="defer" src="../_static/doctools.js"></script>
    <script defer src="../_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">torrenttools - 0.2.2</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/torrenttools-icon.svg" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">torrenttools - 0.2.2</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../why-torrenttools.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../named-trackers.html">Named trackers</a></li>
</ul>
<p class="caption"><span class="caption-text">Commands</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../commands/create.html">Create</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/edit.html">Edit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/info.html">Info</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/show.html">Show</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/verify.html">Verify</a></li>
</ul>
<p class="caption"><span class="caption-text">Knowledge base</span></p>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Bencode format</a></li>
<li class="toctree-l1"><a class="reference internal" href="bittorrent-metafile-v1.html">BitTorrent metafile v1</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="bencode-format">
<h1>Bencode format<a class="headerlink" href="#bencode-format" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Bencode is a simple encoding developed for BitTorrent.
It support 4 basic data types:</p>
<ul class="simple">
<li><p>integer</p></li>
<li><p>string</p></li>
<li><p>lists</p></li>
<li><p>dictionary</p></li>
</ul>
<p>The main advantages of bencode are its simplicity and that is unaffected by endianness,
which is important for cross-platform applications.
Another advantage is that their exists a bijection between values and their encoded form.
As a consequence values can be directly compared in encoded form without decoding first.</p>
</div>
<div class="section" id="encoding">
<h2>Encoding<a class="headerlink" href="#encoding" title="Permalink to this headline">¶</a></h2>
<div class="section" id="integers">
<h3>Integers<a class="headerlink" href="#integers" title="Permalink to this headline">¶</a></h3>
<p>Integers are encoded as: <code class="code docutils literal notranslate"><span class="pre">i&lt;base</span> <span class="pre">ten</span> <span class="pre">ASCII</span> <span class="pre">representation&gt;e</span></code>.
Leading zeros are not allowed except for the number zero.
Negative values are encoded by prefixing the number with a hyphen-minus.
Negative zero is not permitted.
The number 42 would thus be encoded as <code class="code docutils literal notranslate"><span class="pre">i42e</span></code>, 0 as <code class="code docutils literal notranslate"><span class="pre">i0e</span></code>, and -42 as <code class="code docutils literal notranslate"><span class="pre">i-42e</span></code>.</p>
</div>
<div class="section" id="strings">
<h3>Strings<a class="headerlink" href="#strings" title="Permalink to this headline">¶</a></h3>
<p>Strings are length-prefixed base ten followed by a colon and the string: <code class="code docutils literal notranslate"><span class="pre">&lt;length&gt;:&lt;contents&gt;</span></code>.
The length is encoded in base 10, like integers and must be positive (zero is allowed).
The contents are the bytes that make up the string.
If the content represents text the encoding must be UTF-8,
but the string datatype can also be used for a sequence of raw bytes.
For example ‘spam’ is encoded as <code class="code docutils literal notranslate"><span class="pre">4:spam</span></code>.</p>
</div>
<div class="section" id="lists">
<h3>Lists<a class="headerlink" href="#lists" title="Permalink to this headline">¶</a></h3>
<p>A list of values is encoded as an ‘l’ followed by their encoded elements followed by an ‘e’: <code class="code docutils literal notranslate"><span class="pre">l&lt;contents&gt;e</span></code>.
Elements are in order and concatenated.
A list consisting of the string “spam” and the number 42 would be encoded as: <code class="code docutils literal notranslate"><span class="pre">l4:spami42ee</span></code>.</p>
</div>
<div class="section" id="dictonaries">
<h3>Dictonaries<a class="headerlink" href="#dictonaries" title="Permalink to this headline">¶</a></h3>
<p>Dictionaries are encoded as a ‘d’ followed by a list of alternating keys and their
corresponding values followed by an ‘e’: <code class="code docutils literal notranslate"><span class="pre">d&lt;bencoded</span> <span class="pre">key&gt;&lt;bencoded</span> <span class="pre">value&gt;&gt;e</span></code>.
Keys must be strings and appear in lexicographicly sorted order.
For example <code class="code docutils literal notranslate"><span class="pre">{'cow':</span> <span class="pre">'moo',</span> <span class="pre">'spam':</span> <span class="pre">'eggs'}</span></code> is encoded as <code class="code docutils literal notranslate"><span class="pre">d3:cow3:moo4:spam4:eggse</span></code>
and <code class="code docutils literal notranslate"><span class="pre">{'spam':</span> <span class="pre">['a',</span> <span class="pre">'b']}</span></code>. as <code class="code docutils literal notranslate"><span class="pre">d4:spaml1:a1:bee</span></code></p>
<dl class="simple">
<dt>Sources:</dt><dd><ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Bencode">wikipedia - Bencode</a></p></li>
<li><p><a class="reference external" href="http://www.bittorrent.org/beps/bep_0003.html">BitTorrent protocol specification v1</a></p></li>
</ul>
</dd>
</dl>
</div>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="bittorrent-metafile-v1.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">BitTorrent metafile v1</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../commands/verify.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Verify</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="../_sources/topics/bencode.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Bencode format</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#encoding">Encoding</a><ul>
<li><a class="reference internal" href="#integers">Integers</a></li>
<li><a class="reference internal" href="#strings">Strings</a></li>
<li><a class="reference internal" href="#lists">Lists</a></li>
<li><a class="reference internal" href="#dictonaries">Dictonaries</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
  </body>
</html>